
## ðŸŽ¯ Learning Objectives
- Understand the **Salesforce project config** (`sfdx-project.json`)  
- Know the **npm-based dev tooling** (`package.json`, scripts, devDependencies)  
- See how **unit tests** (Jest) and **formatting** (Prettier) are configured  
- Learn about **ignore files** and **CI/CD** via GitHub Actions  

---

## ðŸ”§ 1. Salesforce Project Setup (`sfdx-project.json`)

```json
{
  "packageDirectories": [{
    "path": "force-app",
    "default": true,
    "package": "LWCRecipes",
    "versionName": "Summer '23",
    "versionNumber": "58.0.0.NEXT"
  }],
  "namespace": "",
  "sourceApiVersion": "58.0",
  "sfdcLoginUrl": "https://login.salesforce.com",
  "packageAliases": {
    "LWCRecipes": "0Ho3t000000KywNCAS",
    "LWCRecipes@57.0.0-2": "04t3t000002wSUgAAM",
    â€¦
  }
}
````

- **`packageDirectories`**: Unlocked package settings (path, name, version).
    
- **`sourceApiVersion`**: Always kept in sync with current Salesforce release.
    
- **`sfdcLoginUrl`**: Org endpoint (prod vs scratch/sandbox).
    

---

## ðŸ“¦ 2. Dev Tooling via npm (`package.json`)

- **No runtime Node code**â€”only CLI/dev tools.
    
- **`devDependencies`:**
    
    - `prettier` â†’ code formatting
        
    - `eslint` â†’ linting
        
    - `@salesforce/sfdx-lwc-jest` â†’ Jest for LWC unit tests
        
    - `husky` â†’ git hooks (pre-commit checks)
        

```json
"scripts": {
  "lint": "eslint force-app",
  "prettier": "prettier --write \"**/*.{cls,cmp,component,css,html,js,json,md,page,trigger,xml,yaml,yml}\"",
  "test:unit": "sfdx-lwc-jest",
  "verify:prettier": "prettier --check \"**/*.{cls,cmp,...}\"",
  ...
}
```

- Run tests: `npm run test:unit`
    
- Check formatting: `npm run verify:prettier`
    

---

## ðŸ§ª 3. Jest Unit Test Config (`jest.config.js`)

```js
module.exports = {
  moduleNameMapper: {
    // Map LWC & platform modules to local mocks
    '^c/cssLibrary$': '<rootDir>/force-app/main/default/lwc/cssLibrary/cssLibrary.css',
    '^@salesforce/apex$': '<rootDir>/force-app/test/jest-mocks/apex',
    '^lightning/navigation$': '<rootDir>/force-app/test/jest-mocks/lightning/navigation',
    // â€¦other lightning mocks
  },
  // ...other Jest settings
};
```

- **Mocks folder**: `force-app/test/jest-mocks/lightning/â€¦`
    
- **Purpose**: Stub platform modules (navigation, toast events, uiRecordApi, etc.)
    

---

## ðŸŽ¨ 4. Prettier Formatting Config (`.prettierrc`)

```json
{
  "trailingComma": "none",
  "singleQuote": true,
  "tabWidth": 4,
  "overrides": [
    {
      "files": "**/lwc/**/*.html",
      "options": { "parser": "lwc" }
    },
    {
      "files": "*.{cmp,page,component}",
      "options": { "parser": "html" }
    }
  ]
}
```

- Enforce **single quotes**, **4-space tabs**, **no trailing commas**.
    
- Use **LWC HTML parser** for component templates.
    

---

## ðŸš« 5. Ignore Files

- **`.forceignore`**: Prevent metadata from syncing with scratch orgs.
    
- **`.gitignore`**: Git version-control exclusions.
    
- **`.prettierignore`**: Files/folders Prettier should skip.
    

---

## ðŸ¤– 6. CI/CD: GitHub Actions

- Config lives under `.github/workflows/ci-pr.yml`.
    
- Key steps include:
    
    - `npm run prettier:verify` â†’ enforce formatting
        
    - `npm run lint` â†’ ESLint checks
        
    - `npm run test:unit` â†’ Jest unit tests
        
- View run history: **Actions** tab â–¶ **CI** workflow.
    

---

## ðŸ”‘ Key Takeaways

- **Uniform tooling** across sample apps for consistency.
    
- **npm scripts** wrap all checks & testsâ€”no manual installs.
    
- **Jest & Prettier** configs are tailored for Salesforce file types.
    
- **CI/CD** ensures code quality gates before merges.